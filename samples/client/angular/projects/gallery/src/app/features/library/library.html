<section class="block-gallery">
  @for (block of blocks; track block.name) {
    <article class="block-card" (click)="openDialog(block)">
      <section class="block-header">
        <p class="block-title">{{ block.name }}</p>
      </section>
      <a2ui-surface [surfaceId]="'lib-' + block.name" [surface]="block.surface" />
    </article>
  }
</section>

<dialog #dialog>
  <article>
    @if (selectedBlock) {
      <section class="block-header">
        <p class="block-title">{{ selectedBlock.name }}</p>
        <button (click)="closeDialog()">Close</button>
      </section>
      <div class="dialog-content-grid">
        <section class="block-surface">
          <a2ui-surface
            [surfaceId]="'dialog-' + selectedBlock.name"
            [surface]="selectedBlock.surface"
          />
        </section>
        <section class="json-pane">
            <pre>{{ getJson(selectedBlock.surface) }}</pre>
        </section>
      </div>
    } @else {
      <h3>Please select a component from the gallery</h3>
    }
  </article>
</dialog>